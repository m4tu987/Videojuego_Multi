[gd_scene load_steps=13 format=3 uid="uid://ctg303dwyuuq4"]

[ext_resource type="Texture2D" uid="uid://cer4cgvirvl32" path="res://assets/map/SciFi_DungeonTileset16x16_0x72Like.png" id="1_6ok33"]
[ext_resource type="Script" path="res://scenes/map/healthbox.gd" id="1_bojea"]
[ext_resource type="Texture2D" uid="uid://b7op1cuucr1cq" path="res://assets/icons/Free-Skill-32x32-Icons-for-Cyberpunk-Game/1 Icons/7/Skillicon7_16.png" id="2_jtt0d"]
[ext_resource type="Shader" path="res://scenes/player/color_swap.gdshader" id="3_g4aol"]
[ext_resource type="Texture2D" uid="uid://cv2np082tdl1v" path="res://assets/HUD/circulo1.png" id="5_cb5gm"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_r3e77"]
size = Vector2(16, 16)

[sub_resource type="ShaderMaterial" id="ShaderMaterial_ynyi3"]
shader = ExtResource("3_g4aol")
shader_parameter/from = Color(1, 1, 1, 1)
shader_parameter/to = Color(1, 1, 1, 1)
shader_parameter/tolerance = 0.0

[sub_resource type="RectangleShape2D" id="RectangleShape2D_6dtb4"]
size = Vector2(192, 192)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_3bao6"]
size = Vector2(2048, 448)

[sub_resource type="Animation" id="Animation_iueek"]
resource_name = "animation"
length = 0.6
loop_mode = 2
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Simbol:scale")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.3),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Vector2(1, 1), Vector2(1.5, 1.5)]
}

[sub_resource type="Animation" id="Animation_oyx78"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Simbol:scale")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector2(1.5, 1.5)]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_w23pw"]
_data = {
"RESET": SubResource("Animation_oyx78"),
"animation": SubResource("Animation_iueek")
}

[node name="Healthbox" type="StaticBody2D"]
script = ExtResource("1_bojea")
role = 1

[node name="Sprite2D" type="Sprite2D" parent="."]
position = Vector2(32, 22)
scale = Vector2(4, 4)
texture = ExtResource("1_6ok33")
region_enabled = true
region_rect = Rect2(192, 59, 16, 21)

[node name="CollisionShape2D" type="CollisionShape2D" parent="."]
position = Vector2(32, 32)
scale = Vector2(4, 4)
shape = SubResource("RectangleShape2D_r3e77")

[node name="Simbol" type="Sprite2D" parent="."]
material = SubResource("ShaderMaterial_ynyi3")
position = Vector2(32, 43)
scale = Vector2(1.5, 1.5)
texture = ExtResource("2_jtt0d")

[node name="ActivationArea" type="Area2D" parent="."]
collision_layer = 2
collision_mask = 2

[node name="CollisionShape2D" type="CollisionShape2D" parent="ActivationArea"]
position = Vector2(32, 32)
shape = SubResource("RectangleShape2D_6dtb4")

[node name="HealingArea" type="Area2D" parent="."]
collision_layer = 2
collision_mask = 2
monitoring = false

[node name="CollisionShape2D" type="CollisionShape2D" parent="HealingArea"]
position = Vector2(32, 32)
shape = SubResource("RectangleShape2D_3bao6")

[node name="AnimationPlayer" type="AnimationPlayer" parent="."]
libraries = {
"": SubResource("AnimationLibrary_w23pw")
}

[node name="ActivationProgressBar" type="TextureProgressBar" parent="."]
z_index = 10
y_sort_enabled = true
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = 8.0
offset_top = -19.0
offset_right = 24.0
offset_bottom = -3.0
grow_horizontal = 2
grow_vertical = 2
scale = Vector2(3, 3)
max_value = 1.0
step = 0.01
fill_mode = 4
texture_progress = ExtResource("5_cb5gm")
metadata/_edit_use_anchors_ = true

[node name="ActivationTimer" type="Timer" parent="."]

[node name="Timer" type="Timer" parent="."]
autostart = true

[connection signal="timeout" from="ActivationTimer" to="." method="_on_activation_timer_timeout"]
[connection signal="timeout" from="Timer" to="." method="_on_timer_timeout"]
